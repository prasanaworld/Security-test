<body>
<h1>Chrome addons enumeration</h1>
<p>By <a rel=me href="http://blog.kotowicz.net">Krzysztof Kotowicz</a>
<p><a href="http://blog.kotowicz.net/2012/02/intro-to-chrome-addons-hacking.html">More info</a>
<p>
<textarea style="width:90%" rows=5 id=log>
</textarea>
<script>
var detect = function(base, if_installed, if_not_installed) {
    var s = document.createElement('img');
    s.onerror = if_not_installed;
    s.onload = if_installed;
    document.body.appendChild(s);
    s.src = base + '/content/images/ic-field-logo.svg';
}

function success() {
  const ext = window.chrome | window.browser
  console.log("success case");
  console.log(ext);
}

function failed() {
  const ext = window.chrome | window.browser
  console.log("failed case");
  console.log(ext);
}

window.onload = function() {
  detect('chrome-extension://admmjipmmciaobhojoghlmleefbicajg',success, failed);
}
</script>
</body>
